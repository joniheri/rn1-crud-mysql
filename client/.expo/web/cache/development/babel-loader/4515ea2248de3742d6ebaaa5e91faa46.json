{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/rizkytanjung/jon/JN/PROJECT REACT NATIVE/RN1_CRUD_MYSQL/client/src/pages/DetailTodo.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Headers from \"../component/Header\";\nexport default function DetailTodo(props) {\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setIsLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      error = _React$useState4[0],\n      setError = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      isError = _React$useState6[0],\n      setIsError = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      changeStatus = _React$useState8[0],\n      setChangeStatus = _React$useState8[1];\n\n  var dataTodo = {\n    id: props.route.params.id,\n    title: props.route.params.title,\n    description: props.route.params.description,\n    status: props.route.params.status\n  };\n\n  var updateTodo = function updateTodo() {\n    var data, response;\n    return _regeneratorRuntime.async(function updateTodo$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            setIsLoading(true);\n            data = {\n              status: changeStatus\n            };\n\n            if (data.status) {\n              _context.next = 8;\n              break;\n            }\n\n            setIsError(true);\n            setError(\"Please fill in all the fields\");\n            _context.next = 21;\n            break;\n\n          case 8:\n            if (!(data.status !== \"Done\")) {\n              _context.next = 14;\n              break;\n            }\n\n            setIsError(true);\n            setError(\"Status Wajib Done atau Progress\");\n            console.log(\"Data\", data.status);\n            _context.next = 21;\n            break;\n\n          case 14:\n            _context.next = 16;\n            return _regeneratorRuntime.awrap(axios.patch(\"http://localhost:9001/api/v1/todo/update/\" + dataTodo.id, data));\n\n          case 16:\n            response = _context.sent;\n            console.log(response.data);\n            setError(\"Berhasil\");\n            setIsLoading(false);\n            props.navigation.navigate(\"Home\");\n\n          case 21:\n            _context.next = 28;\n            break;\n\n          case 23:\n            _context.prev = 23;\n            _context.t0 = _context[\"catch\"](0);\n            setIsError(true);\n            setIsLoading(false);\n            console.log(_context.t0);\n\n          case 28:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 23]], Promise);\n  };\n\n  React.useEffect(function () {\n    updateTodo();\n  }, [dataTodo.id]);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, console.log(\"isError: \", isError), React.createElement(Headers, {\n    title: \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontSize: 25,\n      marginBottom: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, dataTodo.title), React.createElement(Headers, {\n    title: \"Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontSize: 25,\n      marginBottom: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, dataTodo.description), React.createElement(Headers, {\n    title: \"Status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontSize: 25,\n      marginBottom: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, dataTodo.status), dataTodo.status === \"Progress\" && React.createElement(View, {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, React.createElement(Headers, {\n    title: \"Change Status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      marginTop: 10,\n      borderRadius: 5,\n      borderWidth: 0.5,\n      height: 30,\n      width: 350,\n      padding: 6\n    },\n    value: changeStatus,\n    onChangeText: function onChangeText(text) {\n      return setChangeStatus(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }), isError && React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, error && React.createElement(Text, {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, error)), React.createElement(TouchableOpacity, {\n    style: styles.btnSave,\n    onPress: updateTodo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#fff\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Update\"))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    padding: 16\n  },\n  btnSave: {\n    width: 100,\n    backgroundColor: \"#10bbeb\",\n    marginTop: 10,\n    padding: 10,\n    alignSelf: \"center\",\n    borderRadius: 5\n  }\n});","map":{"version":3,"sources":["/home/rizkytanjung/jon/JN/PROJECT REACT NATIVE/RN1_CRUD_MYSQL/client/src/pages/DetailTodo.js"],"names":["React","axios","Headers","DetailTodo","props","useState","isLoading","setIsLoading","error","setError","isError","setIsError","changeStatus","setChangeStatus","dataTodo","id","route","params","title","description","status","updateTodo","data","console","log","patch","response","navigation","navigate","useEffect","styles","container","fontSize","marginBottom","marginTop","borderRadius","borderWidth","height","width","padding","text","color","btnSave","textAlign","StyleSheet","create","backgroundColor","alignSelf"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport {\n  StyleSheet,\n  TextInput,\n  Text,\n  View,\n  TouchableOpacity,\n} from \"react-native\";\nimport Headers from \"../component/Header\";\n\nexport default function DetailTodo(props) {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n  const [isError, setIsError] = React.useState(false);\n  const [changeStatus, setChangeStatus] = React.useState(\"\");\n  const dataTodo = {\n    id: props.route.params.id,\n    title: props.route.params.title,\n    description: props.route.params.description,\n    status: props.route.params.status,\n  };\n  // const id = props.route.params.id;\n  // const title = props.route.params.title;\n  // const description = props.route.params.description;\n  // const status = props.route.params.status;\n\n  const updateTodo = async () => {\n    try {\n      setIsLoading(true);\n      const data = {\n        status: changeStatus,\n      };\n      if (!data.status) {\n        setIsError(true);\n        setError(\"Please fill in all the fields\");\n      } else {\n        if (data.status !== \"Done\") {\n          setIsError(true);\n          setError(\"Status Wajib Done atau Progress\");\n          console.log(\"Data\", data.status);\n        } else {\n          const response = await axios.patch(\n            `http://localhost:9001/api/v1/todo/update/${dataTodo.id}`,\n            data\n          );\n          console.log(response.data);\n          setError(\"Berhasil\");\n          setIsLoading(false);\n          props.navigation.navigate(\"Home\");\n        }\n      }\n    } catch (error) {\n      setIsError(true);\n      setIsLoading(false);\n      console.log(error);\n    }\n  };\n  React.useEffect(() => {\n    updateTodo();\n  }, [dataTodo.id]);\n\n  return (\n    <View style={styles.container}>\n      {console.log(\"isError: \", isError)}\n      <Headers title=\"Title\" />\n      <Text style={{ fontSize: 25, marginBottom: 12 }}>{dataTodo.title}</Text>\n      <Headers title=\"Description\" />\n      <Text style={{ fontSize: 25, marginBottom: 12 }}>\n        {dataTodo.description}\n      </Text>\n      <Headers title=\"Status\" />\n      <Text style={{ fontSize: 25, marginBottom: 12 }}>{dataTodo.status}</Text>\n      {dataTodo.status === \"Progress\" && (\n        <View style={{ marginTop: 10 }}>\n          <Headers title=\"Change Status\" />\n          <TextInput\n            style={{\n              marginTop: 10,\n              borderRadius: 5,\n              borderWidth: 0.5,\n              height: 30,\n              width: 350,\n              padding: 6,\n            }}\n            value={changeStatus}\n            onChangeText={(text) => setChangeStatus(text)}\n          />\n          {isError && (\n            <View>\n              {error && <Text style={{ color: \"red\" }}>{error}</Text>}\n            </View>\n          )}\n          <TouchableOpacity style={styles.btnSave} onPress={updateTodo}>\n            <Text style={{ color: \"#fff\", textAlign: \"center\" }}>Update</Text>\n          </TouchableOpacity>\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    padding: 16,\n  },\n  btnSave: {\n    width: 100,\n    backgroundColor: \"#10bbeb\",\n    marginTop: 10,\n    padding: 10,\n    alignSelf: \"center\",\n    borderRadius: 5,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}